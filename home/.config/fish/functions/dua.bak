function du --wraps=nu\ -c\ \'let\ _cur\ =\ du\;\ let\ _len\ =\ .path.0\ \|\ str\ length\;\ let\ _last\ =\ .path.0\ \|\ str\ reverse\ \|\ str\ index-of\ /\;\ let\ _range\ =\ 0..\(\ -\ \ -\ 1\)\;\ du\ \(.path.0\ \|\ str\ substring\ \)\' --wraps=nu\ -c\ \'let\ _cur\ =\ du\;\ let\ _len\ =\ \$_cur.path.0\ \|\ str\ length\;\ let\ _last\ =\ \$_cur.path.0\ \|\ str\ reverse\ \|\ str\ index-of\ /\;\ let\ _range\ =\ 0..\(\$_len\ -\ \$_last\ -\ 1\)\;\ du\ \(\$_cur.path.0\ \|\ str\ substring\ \$_range\)\' --wraps=nu\ -c\ \'let\ _cur\ =\ du\;\ let\ _len\ =\ \$_cur.path.0\ \|\ str\ length\;\ let\ _last\ =\ \$_cur.path.0\ \|\ str\ reverse\ \|\ str\ index-of\ /\;\ let\ _range\ =\ 0..\(\$_len\ -\ \$_last\ -\ 1\)\;\ du\ \|\ append\ \(du\ \(\$_cur.path.0\ \|\ str\ substring\ \$_range\)\)\' --description alias\ du=nu\ -c\ \'let\ _cur\ =\ du\;\ let\ _len\ =\ \$_cur.path.0\ \|\ str\ length\;\ let\ _last\ =\ \$_cur.path.0\ \|\ str\ reverse\ \|\ str\ index-of\ /\;\ let\ _range\ =\ 0..\(\$_len\ -\ \$_last\ -\ 1\)\;\ du\ \|\ append\ \(du\ \(\$_cur.path.0\ \|\ str\ substring\ \$_range\)\)\'
    echo \"(string join ' ' 'let _cur = du' $argv '; let _len = $_cur.path.0 | str length; let _last = $_cur.path.0 | str reverse | str index-of /; let _range = 0..($_len - $_last - 1); $_cur | append (du ($_cur.path.0 | str substring $_range))')\" | xargs nu -c

end
